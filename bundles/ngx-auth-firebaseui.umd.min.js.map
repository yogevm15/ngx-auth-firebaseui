{"version":3,"sources":["../../../node_modules/tslib/tslib.es6.js","../../../projects/ngx-auth-firebaseui/src/lib/enums/accounts.enum.ts","../../../projects/ngx-auth-firebaseui/src/lib/tokens/index.ts","../../../projects/ngx-auth-firebaseui/src/lib/services/firestore-sync.service.ts","../../../projects/ngx-auth-firebaseui/src/lib/services/auth-process.service.ts","../../../projects/ngx-auth-firebaseui/src/lib/components/email-confirmation/email-confirmation.component.ts","../../../projects/ngx-auth-firebaseui/src/lib/components/legality-dialog/legality-dialog.component.ts","../../../projects/ngx-auth-firebaseui/src/lib/animations/index.ts","../../../projects/ngx-auth-firebaseui/src/lib/components/ngx-auth-firebaseui/auth.component.ts","../../../projects/ngx-auth-firebaseui/src/lib/components/ngx-auth-firebaseui-avatar/ngx-auth-firebaseui-avatar.component.ts","../../../projects/ngx-auth-firebaseui/src/lib/components/ngx-auth-firebaseui-login/ngx-auth-firebaseui-login.component.ts","../../../projects/ngx-auth-firebaseui/src/lib/components/ngx-auth-firebaseui-register/ngx-auth-firebaseui-register.component.ts","../../../projects/ngx-auth-firebaseui/src/lib/components/providers/auth.providers.component.ts","../../../projects/ngx-auth-firebaseui/src/lib/components/ngx-auth-firebaseui-user/user.component.ts","../../../projects/ngx-auth-firebaseui/src/lib/interfaces/config.interface.ts","../../../projects/ngx-auth-firebaseui/src/lib/guards/logged-in.guard.ts","../../../projects/ngx-auth-firebaseui/src/lib/ngx-auth-firebaseui.module.ts"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","this","n","v","op","TypeError","call","pop","length","push","Object","create","Accounts","NgxAuthFirebaseUIConfigToken","InjectionToken","UserProvidedConfigToken","collections","users","FirestoreSyncService","afs","prototype","getUserDocRefByUID","uid","doc","deleteUserData","delete","updateUserData","user","userRef","data","email","displayName","photoURL","phoneNumber","providerId","set","merge","Injectable","args","providedIn","AngularFirestore","AuthProvider","facebookAuthProvider","firebase","auth","FacebookAuthProvider","googleAuthProvider","GoogleAuthProvider","appleAuthProvider","OAuthProvider","twitterAuthProvider","TwitterAuthProvider","githubAuthProvider","GithubAuthProvider","microsoftAuthProvider","yahooAuthProvider","AuthProcessService","afa","config","snackBar","fireStoreService","matSnackBarConfig","onSuccessEmitter","EventEmitter","onErrorEmitter","_user$","BehaviorSubject","defineProperty","asObservable","listenToUserEvents","_this","subscribe","resetPassword","console","log","sendPasswordResetEmail","_a","notifyError","error_1","signInWith","provider","credentials","signInResult","ANONYMOUS","EmailAndPassword","Google","Apple","Facebook","Twitter","Github","Microsoft","Yahoo","PhoneNumber","signInAnonymously","_b","signInWithEmailAndPassword","password","signInWithPopup","Error","handleSuccess","handleError","err_1","signUp","createUserWithEmailAndPassword","userCredential","updateProfile","enableFirestoreSync","enableEmailVerification","sendEmailVerification","emailConfirmationSent","emailToConfirm","err_2","sendNewVerificationEmail","signOut","error_2","name","currentUser","parseUserInfo","providerData","getUserPhotoUrl","pipe","map","emailVerified","getPhotoPath","CHECK","isAnonymous","OFF","NONE","image","signInWithPhoneNumber","useRawUserCredential","error","e_1","toastMessageOnAuthSuccess","fallbackMessage","showToast","messageOnAuthSuccess","reloadUserInfo","take","reload","getMessageOnAuthError","toString","message","open","duration","showErrorToast","toastMessageOnAuthError","emit","AngularFireAuth","Inject","forwardRef","MatSnackBar","MatSnackBarConfig","decorators","type","MAT_SNACK_BAR_DEFAULT_OPTIONS","defaultTranslations","verifyEmailTitleText","verifyEmailConfirmationText","verifyEmailGoBackText","sendNewVerificationEmailText","signOutText","messageOnEmailConfirmationSuccess","EmailConfirmationComponent","authProcess","router","changeDetectorRef","ngOnChanges","changes","verifyEmailTemplate","currentValue","defaultTemplate","verifyEmailContext","createTemplateContext","ngOnInit","continue","navigate","goBackURL","isLoading","markForCheck","Component","selector","template","changeDetection","ChangeDetectionStrategy","OnPush","Router","ChangeDetectorRef","Input","Output","ViewChild","static","LegalityDialogComponent","dialogRef","_disableConfirmActionButton","tosUrl","privacyPolicyUrl","checkTOS","checkPrivacyPolicy","closeDialog","checked","disableConfirmActionButton","authProvider","close","MatDialogRef","MAT_DIALOG_DATA","customAnimation","animation","style","opacity","transform","animate","params","delay","scale","x","z","NgxAuthFirebaseuiAnimations","trigger","transition","useAnimation","state","query","stagger","animateChild","optional","EMAIL_REGEX","RegExp","join","PHONE_NUMBER_REGEX","AuthComponent","platformId","dialog","activatedRoute","providers","ALL","registrationEnabled","resetPasswordEnabled","guestEnabled","selectedTabChange","enableLengthRule","enableLowerCaseLetterRule","enableUpperCaseLetterRule","enableDigitRule","enableSpecialCharRule","onStrengthChanged","resetPasswordTabText","resetPasswordInputText","resetPasswordErrorRequiredText","resetPasswordErrorPatternText","resetPasswordActionButtonText","resetPasswordInstructionsText","signInTabText","signInCardTitleText","loginButtonText","forgotPasswordButtonText","nameText","nameErrorRequiredText","nameErrorMinLengthText","nameErrorMaxLengthText","emailText","emailErrorRequiredText","emailErrorPatternText","passwordText","passwordErrorRequiredText","passwordErrorMinLengthText","passwordErrorMaxLengthText","registerTabText","registerCardTitleText","registerButtonText","guestButtonText","emailConfirmationTitle","emailConfirmationText","authenticationError","passReset","authProviders","onSuccess","onError","isPlatformBrowser","onErrorSubscription","min","Math","max","passwordMinLength","passwordMaxLength","chooseBackUrl","updateAuthSnackbarMessages","_initSignInFormGroupBuilder","_initSignUpFormGroupBuilder","_initResetPasswordFormGroupBuilder","ngAfterViewInit","passwordStrength","strength","messageOnAuthError","ngOnDestroy","unsubscribe","onTabChange","event","tabIndex","index","signIn","signInFormGroup","valid","createForgotPasswordTab","passwordResetWished","processLegalSignUP","afterClosed","_afterSignUpMiddleware","signUpFormGroup","reset","signUpAnonymously","resetPasswordEmailFormControl","snapshot","queryParams","redirectUrl","FormGroup","registerControl","signInEmailFormControl","FormControl","Validators","required","pattern","sigInPasswordFormControl","minLength","maxLength","sigUpNameFormControl","nameMinLength","nameMaxLength","sigUpEmailFormControl","sigUpPasswordFormControl","resetPasswordFormGroup","animations","PLATFORM_ID","MatDialog","ActivatedRoute","MatTabGroup","MatPasswordStrengthComponent","NgxAuthFirebaseuiAvatarComponent","layout","canLogout","canViewAccount","canDeleteAccount","canEditAccount","textProfile","textSignOut","onSignOut","user$","displayNameInitials","getDisplayNameInitials","initialsRegExp","match","shift","toUpperCase","openProfile","instance","UserComponent","componentInstance","onAccountEdited","NgxAuthFirebaseuiLoginComponent","formBuilder","titleText","rememberMeText","orLabelText","forgotPasswordText","dontHaveAnAccountText","createAccountButtonText","onCreateAccountRequested","onResetPasswordRequested","onLoginButtonClicked","loginForm","group","login","controls","encapsulation","ViewEncapsulation","None","FormBuilder","confirmPasswordValidator","control","parent","get","passwordConfirm","passwordsNotMatching","NgxAuthFirebaseuiRegisterComponent","termsAndConditionsText","termsAndConditionsLinkText","privacyPolicyText","privacyPolicyLinkText","alreadyHaveAccountText","passwordConfirmationText","passwordConfirmationErrorRequiredText","passwordErrorMatchText","onLoginRequested","onCreateAccountButtonClicked","unsubscribeAll","Subject","registerForm","tos","privacyPolicy","setValidators","requiredTrue","valueChanges","takeUntil","updateValueAndValidity","complete","createAccount","Theme","Layout","notLoggedInText","emailVerifiedText","emailNotVerifiedText","cancelButtonText","saveChangesButtonText","editButtonText","signoutButtonText","deleteAccountButtonText","phoneText","phoneHintText","phoneErrorPatternText","onAccountDeleted","changeEditMode","editMode","initUpdateFormGroup","updateFormGroup","disable","save","dirty","snackBarMsg","updateNameFormControl","updateEmailFormControl","updateEmail","updatePhoneNumberFormControl","updatePhoneNumber","catch","deleteAccount","disabled","enable","AuthProvidersComponent","ROW","themes","defaultAuthFirebaseUIConfig","authGuardFallbackURL","authGuardLoggedInURL","guardProtectedRoutesUntilEmailIsVerified","ngxAuthFirebaseUIConfigFactory","userProvidedConfig","assign","LoggedInGuard","canActivate","route","url","NgxAuthFirebaseUIModule","iconRegistry","sanitizer","registerProviderIcons","forRoot","configFactory","appNameFactory","ngModule","provide","FIREBASE_OPTIONS","useValue","FIREBASE_APP_NAME","useFactory","deps","addSvgIcon","bypassSecurityTrustResourceUrl","NgModule","imports","CommonModule","RouterModule","HttpClientModule","FlexLayoutModule","FormsModule","ReactiveFormsModule","MatTabsModule","MatCardModule","MatInputModule","MatButtonModule","MatIconModule","MatSnackBarModule","MatDividerModule","MatChipsModule","MatTooltipModule","MatDialogModule","MatCheckboxModule","MatProgressSpinnerModule","MatProgressBarModule","MatMenuModule","MatPasswordStrengthModule","AngularFireAuthModule","AngularFirestoreModule","exports","declarations","entryComponents","MatIconRegistry","DomSanitizer"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","export enum Accounts {\n  NONE = 'account',\n  CHECK = 'account-check',\n  EDIT = 'account-edit',\n  OFF = 'account-off',\n  REMOVE = 'account-remove',\n}\n","// This token is the official token containing the final configuration; ie. the merge between default and user provided configurations\nimport {InjectionToken} from '@angular/core';\nimport {NgxAuthFirebaseUIConfig} from '../interfaces';\n\nexport const NgxAuthFirebaseUIConfigToken = new InjectionToken<NgxAuthFirebaseUIConfig>('NgxAuthFirebaseUIConfigToken');\n// This is an intermediate token containing only user-provided configuration\nexport const UserProvidedConfigToken = new InjectionToken<NgxAuthFirebaseUIConfig>('UserProvidedConfigToken');\n","import { Injectable } from \"@angular/core\";\nimport {\n  AngularFirestore,\n  AngularFirestoreDocument,\n} from \"@angular/fire/firestore\";\nimport firebase from \"firebase/app\";\n\nexport const collections = {\n  users: \"users\",\n};\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class FirestoreSyncService {\n  constructor(public afs: AngularFirestore) {\n    // this.afs.firestore.settings({timestampsInSnapshots: true});\n  }\n\n  // get timestamp() {\n  //     return firebase.firestore.FieldValue.serverTimestamp();\n  // }\n\n  public getUserDocRefByUID(\n    uid: string\n  ): AngularFirestoreDocument<firebase.UserInfo> {\n    return this.afs.doc(`${collections.users}/${uid}`);\n  }\n\n  public deleteUserData(uid: string): Promise<any> {\n    const userRef: AngularFirestoreDocument<firebase.UserInfo> = this.getUserDocRefByUID(\n      uid\n    );\n    return userRef.delete();\n  }\n\n  public updateUserData(user: firebase.UserInfo): Promise<any> {\n    // Sets user$ data to firestore on login\n    const userRef: AngularFirestoreDocument<firebase.UserInfo> = this.getUserDocRefByUID(\n      user.uid\n    );\n    const data: firebase.UserInfo = {\n      uid: user.uid,\n      email: user.email,\n      displayName: user.displayName,\n      photoURL: user.photoURL,\n      phoneNumber: user.phoneNumber,\n      providerId: user.providerId,\n    };\n    return userRef.set(data, { merge: true });\n  }\n}\n","import '@firebase/auth';\n\nimport { EventEmitter, forwardRef, Inject, Injectable } from '@angular/core';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { MAT_SNACK_BAR_DEFAULT_OPTIONS, MatSnackBar, MatSnackBarConfig } from '@angular/material/snack-bar';\nimport firebase from 'firebase/app';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { map, take } from 'rxjs/operators';\n\nimport { Accounts } from '../enums';\nimport { ICredentials, ISignInProcess, ISignUpProcess, NgxAuthFirebaseUIConfig } from '../interfaces';\nimport { NgxAuthFirebaseUIConfigToken } from '../tokens';\nimport { FirestoreSyncService } from './firestore-sync.service';\n\nimport UserCredential = firebase.auth.UserCredential;\n\nexport const facebookAuthProvider = new firebase.auth.FacebookAuthProvider();\nexport const googleAuthProvider = new firebase.auth.GoogleAuthProvider();\nexport const appleAuthProvider = new firebase.auth.OAuthProvider(\"apple.com\");\nexport const twitterAuthProvider = new firebase.auth.TwitterAuthProvider();\nexport const githubAuthProvider = new firebase.auth.GithubAuthProvider();\nexport const microsoftAuthProvider = new firebase.auth.OAuthProvider(\n  \"microsoft.com\"\n);\nexport const yahooAuthProvider = new firebase.auth.OAuthProvider(\"yahoo.com\");\n\nexport enum AuthProvider {\n  ALL = \"all\",\n  ANONYMOUS = \"anonymous\",\n  EmailAndPassword = \"firebase\",\n  Google = \"google\",\n  Apple = \"apple\",\n  Facebook = \"facebook\",\n  Twitter = \"twitter\",\n  Github = \"github\",\n  Microsoft = \"microsoft\",\n  Yahoo = \"yahoo\",\n  PhoneNumber = \"phoneNumber\",\n}\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class AuthProcessService implements ISignInProcess, ISignUpProcess {\n  onSuccessEmitter: EventEmitter<any> = new EventEmitter<any>();\n  onErrorEmitter: EventEmitter<any> = new EventEmitter<any>();\n\n  // Useful to know about auth state even between reloads.\n  // Replace emailConfirmationSent and emailToConfirm.\n  private _user$ = new BehaviorSubject<firebase.User | null>(null);\n  get user$(): Observable<firebase.User | null> {\n    return this._user$.asObservable();\n  }\n\n  /**\n   * @deprecated access via user$ asynchronously instead\n   */\n  user: firebase.User;\n\n  messageOnAuthSuccess: string;\n  messageOnAuthError: string;\n\n  // Legacy field that is set to true after sign up.\n  // Value is lost in case of reload. The idea here is to know if we just sent a verification email.\n  emailConfirmationSent: boolean;\n  // Legacy filed that contain the mail to confirm. Same lifecycle than emailConfirmationSent.\n  emailToConfirm: string;\n\n  constructor(\n    public afa: AngularFireAuth,\n    @Inject(forwardRef(() => NgxAuthFirebaseUIConfigToken))\n    public config: NgxAuthFirebaseUIConfig,\n    private snackBar: MatSnackBar,\n    private fireStoreService: FirestoreSyncService,\n    @Inject(MAT_SNACK_BAR_DEFAULT_OPTIONS)\n    private matSnackBarConfig: MatSnackBarConfig\n  ) {}\n\n  listenToUserEvents() {\n    this.afa.user.subscribe((user: firebase.User | null) => {\n      this._user$.next(user);\n      this.user = user;\n    });\n  }\n\n  /**\n   * Reset the password of the ngx-auth-firebaseui-user via email\n   *\n   * @param email - the email to reset\n   */\n  public async resetPassword(email: string): Promise<void> {\n    try {\n      console.log(\"Password reset email sent\");\n      return await this.afa.sendPasswordResetEmail(email);\n    } catch (error) {\n      return this.notifyError(error);\n    }\n  }\n\n  /**\n   * General sign in mechanism to authenticate the users with a firebase project\n   * using a traditional way, via username and password or by using an authentication provider\n   * like google, facebook, twitter and github\n   *\n   * @param provider - the provider to authenticate with (google, facebook, twitter, github)\n   * @param credentials optional email and password\n   */\n  public async signInWith(provider: AuthProvider, credentials?: ICredentials) {\n    try {\n      let signInResult: UserCredential | any;\n\n      switch (provider) {\n        case AuthProvider.ANONYMOUS:\n          signInResult = (await this.afa.signInAnonymously()) as UserCredential;\n          break;\n\n        case AuthProvider.EmailAndPassword:\n          signInResult = (await this.afa.signInWithEmailAndPassword(\n            credentials.email,\n            credentials.password\n          )) as UserCredential;\n          break;\n\n        case AuthProvider.Google:\n          signInResult = (await this.afa.signInWithPopup(\n            googleAuthProvider\n          )) as UserCredential;\n          break;\n\n        case AuthProvider.Apple:\n          signInResult = (await this.afa.signInWithPopup(\n            appleAuthProvider\n          )) as UserCredential;\n          break;\n\n        case AuthProvider.Facebook:\n          signInResult = (await this.afa.signInWithPopup(\n            facebookAuthProvider\n          )) as UserCredential;\n          break;\n\n        case AuthProvider.Twitter:\n          signInResult = (await this.afa.signInWithPopup(\n            twitterAuthProvider\n          )) as UserCredential;\n          break;\n\n        case AuthProvider.Github:\n          signInResult = (await this.afa.signInWithPopup(\n            githubAuthProvider\n          )) as UserCredential;\n          break;\n\n        case AuthProvider.Microsoft:\n          signInResult = (await this.afa.signInWithPopup(\n            microsoftAuthProvider\n          )) as UserCredential;\n          break;\n\n        case AuthProvider.Yahoo:\n          signInResult = (await this.afa.signInWithPopup(\n            yahooAuthProvider\n          )) as UserCredential;\n          break;\n\n        case AuthProvider.PhoneNumber:\n          // coming soon - see feature/sms branch\n          break;\n\n        default:\n          throw new Error(\n            `${AuthProvider[provider]} is not available as auth provider`\n          );\n      }\n      await this.handleSuccess(signInResult);\n    } catch (err) {\n      this.handleError(err);\n    }\n  }\n\n  /**\n   * Sign up new users via email and password.\n   * After that the ngx-auth-firebaseui-user should verify and confirm an email sent via the firebase\n   *\n   * @param displayName - the displayName if the new ngx-auth-firebaseui-user\n   * @param credentials email and password\n   * @returns -\n   */\n  public async signUp(displayName: string, credentials: ICredentials) {\n    try {\n      const userCredential: UserCredential = await this.afa.createUserWithEmailAndPassword(\n        credentials.email,\n        credentials.password\n      );\n      const user = userCredential.user;\n      await this.updateProfile(displayName, user.photoURL);\n\n      if (this.config.enableFirestoreSync) {\n        await this.fireStoreService.getUserDocRefByUID(user.uid).set({\n          uid: user.uid,\n          displayName,\n          email: user.email,\n          photoURL: user.photoURL,\n        } as firebase.User);\n      }\n\n      if (this.config.enableEmailVerification) {\n        await user.sendEmailVerification();\n      }\n\n      // Legacy fields\n      this.emailConfirmationSent = true;\n      this.emailToConfirm = credentials.email;\n\n      await this.handleSuccess(userCredential);\n    } catch (err) {\n      this.handleError(err);\n    }\n  }\n\n  async sendNewVerificationEmail(): Promise<void | never> {\n    if (!this.user) {\n      return Promise.reject(new Error(\"No signed in user\"));\n    }\n    return this.user.sendEmailVerification();\n  }\n\n  async signOut() {\n    try {\n      await this.afa.signOut();\n    } catch (error) {\n      this.notifyError(error);\n    }\n  }\n\n  /**\n   * Update the profile (name + photo url) of the authenticated ngx-auth-firebaseui-user in the\n   * firebase authentication feature (not in firestore)\n   *\n   * @param name - the new name of the authenticated ngx-auth-firebaseui-user\n   * @param photoURL - the new photo url of the authenticated ngx-auth-firebaseui-user\n   * @returns -\n   */\n  public updateProfile(name: string, photoURL: string): Promise<void> {\n    return this.afa.currentUser.then((user: firebase.User) => {\n      if (!photoURL) {\n        return user.updateProfile({ displayName: name });\n      } else {\n        return user.updateProfile({ displayName: name, photoURL });\n      }\n    });\n  }\n\n  public parseUserInfo(user: firebase.User): firebase.UserInfo {\n    return {\n      uid: user.uid,\n      displayName: user.displayName,\n      email: user.email,\n      phoneNumber: user.phoneNumber,\n      photoURL: user.photoURL,\n      providerId:\n        user.providerData.length > 0 ? user.providerData[0].providerId : null,\n    };\n  }\n\n  public getUserPhotoUrl(): Observable<string | null> {\n    return this._user$.pipe(\n      map((user: firebase.User | null) => {\n        if (!user) {\n          return null;\n        } else if (user.photoURL) {\n          return user.photoURL;\n        } else if (user.emailVerified) {\n          return this.getPhotoPath(Accounts.CHECK);\n        } else if (user.isAnonymous) {\n          return this.getPhotoPath(Accounts.OFF);\n        } else {\n          return this.getPhotoPath(Accounts.NONE);\n        }\n      })\n    );\n  }\n\n  public getPhotoPath(image: string): string {\n    return `assets/user/${image}.svg`;\n  }\n\n  public signInWithPhoneNumber() {\n    // todo: 3.1.18\n  }\n\n  async handleSuccess(userCredential: UserCredential) {\n\n    if(this.config.useRawUserCredential) {\n      this.onSuccessEmitter.next(userCredential);\n    } else {\n      this.onSuccessEmitter.next(userCredential.user);\n    }\n\n    if (this.config.enableFirestoreSync) {\n      try {\n        await this.fireStoreService.updateUserData(\n          this.parseUserInfo(userCredential.user)\n        );\n      } catch (e) {\n        console.error(\n          `Error occurred while updating user data with firestore: ${e}`\n        );\n      }\n    }\n    if (this.config.toastMessageOnAuthSuccess) {\n      const fallbackMessage = `Hello ${\n        userCredential.user.displayName ? userCredential.user.displayName : \"\"\n      }!`;\n      this.showToast(this.messageOnAuthSuccess || fallbackMessage);\n    }\n  }\n\n  handleError(error: any) {\n    this.notifyError(error);\n    console.error(error);\n  }\n\n  // Refresh user info. Can be useful for instance to get latest status regarding email verification.\n  reloadUserInfo() {\n    return this._user$\n      .pipe(take(1))\n      .subscribe((user: firebase.User | null) => user && user.reload());\n  }\n\n  // Search for an error message.\n  // Consumers of this library are given the possibility to provide a\n  // function in case they want to instrument message based on error properties.\n  getMessageOnAuthError(error: any) {\n    // tslint:disable-next-line:no-bitwise\n    return (\n      error.toString() || \"Sorry, something went wrong. Please retry later.\"\n    );\n  }\n\n  // Show a toast using current snackbar config. If message is empty, no toast is displayed allowing to opt-out when needed.\n  // Default MatSnackBarConfig has no duration, meaning it stays visible forever.\n  // If that's the case, an action button is added to allow the end-user to dismiss the toast.\n  showToast(message: string) {\n    if (message) {\n      this.snackBar.open(\n        message,\n        this.matSnackBarConfig.duration ? null : \"OK\"\n      );\n    }\n  }\n\n  showErrorToast(error: any) {\n    if (this.config.toastMessageOnAuthError) {\n      this.showToast(this.getMessageOnAuthError(error));\n    }\n  }\n\n  notifyError(error: any) {\n    this.onErrorEmitter.emit(error);\n    this.showErrorToast(error);\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild\n} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {AuthProcessService} from '../../services/auth-process.service';\n\ninterface VerifyEmailContext {\n  email: string;\n  goBackURL: string;\n  verifyEmailTitleText: string;\n  verifyEmailConfirmationText: string;\n  verifyEmailGoBackText: string;\n  messageOnEmailConfirmationSuccess: string;\n  messageOnError: string;\n}\n\nconst defaultTranslations = {\n  verifyEmailTitleText: 'Confirm your e-mail address!',\n  verifyEmailConfirmationText: 'A confirmation e-mail has been sent.' +\n    ' Check your inbox and click on the link \"Confirm my e-mail\" to confirm your e-mail address.',\n  verifyEmailGoBackText: 'Go back',\n  sendNewVerificationEmailText: 'Send new confirmation e-mail',\n  signOutText: 'Sign out',\n  messageOnEmailConfirmationSuccess: 'A new confirmation e-mail has been sent. Please check your inbox.',\n};\n\n@Component({\n  selector: 'ngx-auth-firebaseui-email-confirmation',\n  templateUrl: './email-confirmation.component.html',\n  styleUrls: ['./email-confirmation.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class EmailConfirmationComponent implements OnInit, OnChanges {\n\n  @Input() email: string;\n  @Input() goBackURL: string;\n  // i18n translations to use in default template\n  @Input() verifyEmailTitleText: string;\n  @Input() verifyEmailConfirmationText: string;\n  @Input() verifyEmailGoBackText: string;\n  @Input() sendNewVerificationEmailText: string;\n  @Input() signOutText: string;\n  @Input() messageOnEmailConfirmationSuccess: string;\n\n  // Template to use in place of default template\n  @Input() template: TemplateRef<any>;\n\n  @Output() signOut = new EventEmitter();\n\n  // Final template\n  verifyEmailTemplate: TemplateRef<any>;\n  // Context hash to use for verifyEmailTemplate.\n  verifyEmailContext: VerifyEmailContext;\n\n  isLoading: boolean;\n\n  @ViewChild('defaultVerifyEmail', {static: true}) defaultTemplate: TemplateRef<any>;\n\n  constructor(public authProcess: AuthProcessService, private router: Router, private changeDetectorRef: ChangeDetectorRef) {\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.verifyEmailTemplate && changes.verifyEmailTemplate.currentValue == null) {\n      this.verifyEmailTemplate = this.defaultTemplate;\n      console.log('ngOnChanges - defaultTemplate:', this.verifyEmailTemplate);\n    }\n    this.verifyEmailContext = this.createTemplateContext();\n  }\n\n  ngOnInit(): void {\n    if (!this.verifyEmailTemplate) {\n      console.log('ngOnInit - defaultTemplate');\n      this.verifyEmailTemplate = this.defaultTemplate;\n    }\n    this.verifyEmailContext = this.createTemplateContext();\n    console.log('verifyEmailTemplate:', this.verifyEmailTemplate);\n    console.log('verifyEmailContext:', this.verifyEmailContext);\n  }\n\n  async continue() {\n    try {\n      await this.authProcess.reloadUserInfo();\n      await this.router.navigate([this.goBackURL]);\n    } catch (error) {\n      this.authProcess.notifyError(error);\n    }\n  }\n\n  async sendNewVerificationEmail() {\n    try {\n      this.isLoading = true;\n      this.changeDetectorRef.markForCheck();\n      await this.authProcess.sendNewVerificationEmail();\n      this.authProcess.showToast(this.verifyEmailContext.messageOnEmailConfirmationSuccess);\n    } catch (error) {\n      this.authProcess.notifyError(error);\n    } finally {\n      this.isLoading = false;\n      this.changeDetectorRef.markForCheck();\n    }\n  }\n\n  private createTemplateContext(): any {\n    return {\n      email: this.email,\n      goBackURL: this.goBackURL,\n      verifyEmailTitleText: this.verifyEmailTitleText || defaultTranslations.verifyEmailTitleText,\n      verifyEmailConfirmationText: this.verifyEmailConfirmationText || defaultTranslations.verifyEmailConfirmationText,\n      verifyEmailGoBackText: this.verifyEmailGoBackText || defaultTranslations.verifyEmailGoBackText,\n      sendNewVerificationEmailText: this.sendNewVerificationEmailText || defaultTranslations.sendNewVerificationEmailText,\n      signOutText: this.signOutText || defaultTranslations.signOutText,\n      messageOnEmailConfirmationSuccess: this.messageOnEmailConfirmationSuccess || defaultTranslations.messageOnEmailConfirmationSuccess\n    };\n  }\n}\n","import {Component, Inject} from '@angular/core';\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {LegalityDialogParams, LegalityDialogResult} from '../../interfaces';\n\n@Component({\n  selector: 'ngx-auth-firebaseui-legality-dialog',\n  templateUrl: './legality-dialog.component.html',\n  styleUrls: ['./legality-dialog.component.scss']\n})\nexport class LegalityDialogComponent {\n\n  checkTOS: boolean;\n  checkPrivacyPolicy: boolean;\n\n  constructor(public dialogRef: MatDialogRef<LegalityDialogComponent>,\n              @Inject(MAT_DIALOG_DATA) public data: LegalityDialogParams) {\n  }\n\n  // tslint:disable-next-line:variable-name\n  private _disableConfirmActionButton = false;\n\n  get disableConfirmActionButton(): boolean {\n    if (this.data.tosUrl && this.data.privacyPolicyUrl) {\n      this._disableConfirmActionButton = !(this.checkTOS && this.checkPrivacyPolicy);\n    } else if (this.data.tosUrl && !this.data.privacyPolicyUrl) {\n      this._disableConfirmActionButton = !this.checkTOS;\n    } else if (!this.data.tosUrl && this.data.privacyPolicyUrl) {\n      this._disableConfirmActionButton = !this.checkPrivacyPolicy;\n    }\n    return this._disableConfirmActionButton;\n  }\n\n  closeDialog() {\n    const result: LegalityDialogResult = {\n      checked: !this.disableConfirmActionButton,\n      authProvider: this.data.authProvider\n    };\n    this.dialogRef.close(result);\n  }\n\n}\n","import {animate, animateChild, animation, query, stagger, state, style, transition, trigger, useAnimation} from '@angular/animations';\n\nconst customAnimation = animation(\n  [\n    style({\n      opacity: '{{opacity}}',\n      transform: 'scale({{scale}}) translate3d({{x}}, {{y}}, {{z}})'\n    }),\n    animate('{{duration}} {{delay}} cubic-bezier(0.0, 0.0, 0.2, 1)', style('*'))\n  ],\n  {\n    params: {\n      duration: '200ms',\n      delay: '0ms',\n      opacity: '0',\n      scale: '1',\n      x: '0',\n      y: '0',\n      z: '0'\n    }\n  }\n);\n\nexport const NgxAuthFirebaseuiAnimations = [\n  trigger('animate', [transition('void => *', [useAnimation(customAnimation)])]),\n\n  trigger('animateStagger', [\n    state('50', style('*')),\n    state('100', style('*')),\n    state('200', style('*')),\n\n    transition('void => 50', query('@*', [stagger('50ms', [animateChild()])], {optional: true})),\n    transition('void => 100', query('@*', [stagger('100ms', [animateChild()])], {optional: true})),\n    transition('void => 200', query('@*', [stagger('200ms', [animateChild()])], {optional: true}))\n  ]),\n];\n","import { isPlatformBrowser } from \"@angular/common\";\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  PLATFORM_ID,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild,\n} from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport {\n  AbstractControl,\n  FormControl,\n  FormGroup,\n  Validators,\n} from \"@angular/forms\";\n\n// ANGULAR MATERIAL\nimport { MatTabChangeEvent, MatTabGroup } from \"@angular/material/tabs\";\nimport { ThemePalette } from \"@angular/material/core\";\nimport { MatDialog, MatDialogRef } from \"@angular/material/dialog\";\nimport { MatFormFieldAppearance } from \"@angular/material/form-field\";\n\n// ANGULAR FIRE\nimport { AngularFireAuth } from \"@angular/fire/auth\";\n\n// Third PARTY\nimport { MatPasswordStrengthComponent } from \"@angular-material-extensions/password-strength\";\n\n// RXJS\nimport { Subscription } from \"rxjs\";\n\nimport { LegalityDialogComponent, Theme } from \"..\";\nimport {\n  LegalityDialogParams,\n  LegalityDialogResult,\n  NgxAuthFirebaseUIConfig,\n} from \"../../interfaces\";\nimport {\n  AuthProcessService,\n  AuthProvider,\n} from \"../../services/auth-process.service\";\nimport { NgxAuthFirebaseuiAnimations } from \"../../animations\";\nimport { NgxAuthFirebaseUIConfigToken } from \"../../tokens\";\n\nexport const EMAIL_REGEX = new RegExp(\n  [\n    '^(([^<>()[\\\\]\\\\.,;:\\\\s@\"]+(\\\\.[^<>()\\\\[\\\\]\\\\.,;:\\\\s@\"]+)*)',\n    '|(\".+\"))@((\\\\[[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.',\n    \"[0-9]{1,3}])|(([a-zA-Z\\\\-0-9]+\\\\.)+\",\n    \"[a-zA-Z]{2,}))$\",\n  ].join(\"\")\n);\n\n// tslint:disable-next-line:max-line-length\nexport const PHONE_NUMBER_REGEX = new RegExp(\n  [\n    \"^[+]{0,1}[(]{0,1}[0-9]{1,4}[)]{0,1}[-\\\\s\\\\.]{0,1}[(]{0,1}[0-9]{1,4}[)]{0,1}[-\\\\s\\\\./0-9]{4,12}$\",\n  ].join(\"\")\n);\n\n@Component({\n  selector: \"ngx-auth-firebaseui\",\n  templateUrl: \"auth.component.html\",\n  styleUrls: [\"auth.component.scss\"],\n  animations: NgxAuthFirebaseuiAnimations,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AuthComponent\n  implements OnInit, AfterViewInit, OnChanges, OnDestroy {\n  @ViewChild(MatTabGroup, { static: false }) matTabGroup: MatTabGroup;\n  @ViewChild(MatPasswordStrengthComponent, { static: false })\n  passwordStrength: MatPasswordStrengthComponent;\n\n  isLoading: boolean;\n  //  google, facebook, twitter, github as array or all as one single string\n  @Input() providers: AuthProvider[] | AuthProvider = AuthProvider.ALL;\n  @Input() providersTheme: Theme; // Classic, Stroked, etc.\n\n  @Input() appearance: MatFormFieldAppearance;\n  @Input() tabIndex: number | null;\n  @Input() registrationEnabled = true;\n  @Input() resetPasswordEnabled = true;\n  @Input() guestEnabled = true;\n  @Input() tosUrl: string;\n  @Input() privacyPolicyUrl: string;\n  @Input() goBackURL: string;\n  @Input() messageOnAuthSuccess: string;\n  @Input() messageOnAuthError: string;\n  @Input() messageOnEmailConfirmationSuccess: string;\n\n  // Events\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output() onSuccess: any;\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output() onError: any;\n  @Output() selectedTabChange: EventEmitter<\n    MatTabChangeEvent\n  > = new EventEmitter();\n\n  // Password strength api\n  @Input() enableLengthRule = true;\n  @Input() enableLowerCaseLetterRule = true;\n  @Input() enableUpperCaseLetterRule = true;\n  @Input() enableDigitRule = true;\n  @Input() enableSpecialCharRule = true;\n  @Input() min: number;\n  @Input() max: number;\n  @Input() customValidator: RegExp;\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output() onStrengthChanged: EventEmitter<number> = new EventEmitter();\n\n  // Verify email template to use in place of default template.\n  // See email-confirmation component\n  @Input() verifyEmailTemplate: TemplateRef<any>;\n\n  // i18n translations to use in default template for email verification.\n  // See email-confirmation component\n  @Input() verifyEmailTitleText: string;\n  @Input() verifyEmailConfirmationText: string;\n  @Input() verifyEmailGoBackText: string;\n  @Input() sendNewVerificationEmailText: string;\n  @Input() signOutText = \"Sign out\";\n\n  // Customize the text\n  // Reset Password Tab\n  @Input() resetPasswordTabText = \"Reset e-mail address to password\";\n  @Input() resetPasswordInputText = \"Reset e-mail address to password\";\n  @Input() resetPasswordErrorRequiredText =\n    \"E-mail is required to reset the password!\";\n  @Input() resetPasswordErrorPatternText =\n    \"Please enter a valid e-mail address\";\n  @Input() resetPasswordActionButtonText = \"Reset\";\n  @Input() resetPasswordInstructionsText =\n    \"Reset requested. Check your e-mail instructions.\";\n\n  // SignIn Tab\n  @Input() signInTabText = \"Sign in\";\n  @Input() signInCardTitleText = \"Signing in\";\n  @Input() loginButtonText = \"Log In\";\n  @Input() forgotPasswordButtonText = \"Forgot Password ?\";\n\n  // Common\n  @Input() nameText = \"Name\";\n  @Input() nameErrorRequiredText = \"Name is required\";\n  @Input() nameErrorMinLengthText = \"The name is too short!\";\n  @Input() nameErrorMaxLengthText = \"The name is too long!\";\n\n  @Input() emailText = \"E-mail\";\n  @Input() emailErrorRequiredText = \"E-mail is required\";\n  @Input() emailErrorPatternText = \"Please enter a valid e-mail address\";\n\n  @Input() passwordText = \"Password\";\n  @Input() passwordErrorRequiredText = \"Password is required\";\n  @Input() passwordErrorMinLengthText = \"The password is too short!\";\n  @Input() passwordErrorMaxLengthText = \"The password is too long!\";\n\n  // Register Tab\n  @Input() registerTabText = \"Register\";\n  @Input() registerCardTitleText = \"Registration\";\n  @Input() registerButtonText = \"Register\";\n  @Input() guestButtonText = \"continue as guest\";\n\n  // email confirmation component\n  @Input() emailConfirmationTitle = \"Confirm your e-mail address!\";\n  // tslint:disable-next-line:max-line-length\n  @Input()\n  emailConfirmationText = `A confirmation e-mail has been sent to you. Check your inbox and click on the link \"Confirm my e-mail\" to confirm your e-mail address.`;\n\n  authProvider = AuthProvider;\n  passwordResetWished: boolean;\n\n  public signInFormGroup: FormGroup;\n  public signUpFormGroup: FormGroup;\n  public resetPasswordFormGroup: FormGroup;\n\n  onErrorSubscription: Subscription;\n  authenticationError = false;\n\n  passReset = false;\n  dialogRef: MatDialogRef<LegalityDialogComponent>;\n\n  authProviders = AuthProvider;\n\n  signInEmailFormControl: AbstractControl;\n  sigInPasswordFormControl: AbstractControl;\n\n  sigUpNameFormControl: AbstractControl;\n  sigUpEmailFormControl: AbstractControl;\n  sigUpPasswordFormControl: AbstractControl;\n  sigUpPasswordConfirmationFormControl: AbstractControl;\n  resetPasswordEmailFormControl: AbstractControl;\n\n  constructor(\n    // tslint:disable-next-line:ban-types\n    @Inject(PLATFORM_ID) private platformId: Object,\n    @Inject(forwardRef(() => NgxAuthFirebaseUIConfigToken))\n    public config: NgxAuthFirebaseUIConfig,\n    public auth: AngularFireAuth,\n    public authProcess: AuthProcessService,\n    public dialog: MatDialog,\n    private activatedRoute: ActivatedRoute,\n    private changeDetectorRef: ChangeDetectorRef\n  ) {\n    this.onSuccess = authProcess.onSuccessEmitter;\n    this.onError = authProcess.onErrorEmitter;\n  }\n\n  get color(): string | ThemePalette {\n    return this.authenticationError ? \"warn\" : \"primary\";\n  }\n\n  public ngOnInit(): void {\n    if (isPlatformBrowser(this.platformId)) {\n      this.onErrorSubscription = this.onError.subscribe(\n        () => (this.authenticationError = true)\n      );\n    }\n    this.min =\n      this.min != null\n        ? Math.max(this.min, this.config.passwordMinLength)\n        : this.config.passwordMinLength;\n    this.max =\n      this.max != null\n        ? Math.min(this.max, this.config.passwordMaxLength)\n        : this.config.passwordMaxLength;\n\n    this.goBackURL = this.chooseBackUrl();\n\n    this.updateAuthSnackbarMessages();\n    // auth form's initialization\n    this._initSignInFormGroupBuilder();\n    this._initSignUpFormGroupBuilder();\n    this._initResetPasswordFormGroupBuilder();\n  }\n\n  ngAfterViewInit(): void {\n    if (this.passwordStrength) {\n      this.passwordStrength.onStrengthChanged.subscribe((strength: number) => {\n        this.onStrengthChanged.emit(strength);\n      });\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.messageOnAuthSuccess || changes.messageOnAuthError) {\n      this.updateAuthSnackbarMessages();\n    }\n    if (changes.min) {\n      this.min =\n        this.min != null\n          ? Math.max(this.min, this.config.passwordMinLength)\n          : this.config.passwordMinLength;\n    }\n    if (changes.max) {\n      this.max =\n        this.max != null\n          ? Math.min(this.max, this.config.passwordMaxLength)\n          : this.config.passwordMaxLength;\n    }\n    if (changes.goBackURL) {\n      this.goBackURL = this.chooseBackUrl();\n    }\n  }\n\n  ngOnDestroy(): void {\n    if (this.onErrorSubscription) {\n      this.onErrorSubscription.unsubscribe();\n    }\n  }\n\n  onTabChange(event: MatTabChangeEvent) {\n    this.selectedTabChange.emit(event);\n    this.tabIndex = event.index;\n  }\n\n  async signOut() {\n    try {\n      this.isLoading = true;\n      this.changeDetectorRef.markForCheck();\n      await this.authProcess.signOut();\n    } finally {\n      this.isLoading = false;\n      this.tabIndex = 0;\n      this.changeDetectorRef.markForCheck();\n    }\n  }\n\n  async signIn() {\n    if (!this.signInFormGroup.valid) {\n      return;\n    }\n    try {\n      this.isLoading = true;\n      this.changeDetectorRef.markForCheck();\n      await this.authProcess.signInWith(this.authProviders.EmailAndPassword, {\n        email: this.signInFormGroup.value.email,\n        password: this.signInFormGroup.value.password,\n      });\n    } finally {\n      this.isLoading = false;\n      this.changeDetectorRef.markForCheck();\n    }\n  }\n\n  updateAuthSnackbarMessages(): void {\n    this.authProcess.messageOnAuthSuccess = this.messageOnAuthSuccess;\n    this.authProcess.messageOnAuthError = this.messageOnAuthError;\n  }\n\n  createForgotPasswordTab() {\n    this.passwordResetWished = true;\n    this.tabIndex = 2;\n    this.changeDetectorRef.markForCheck();\n  }\n\n  processLegalSignUP(authProvider?: AuthProvider) {\n    if (this.tosUrl || this.privacyPolicyUrl) {\n      const params: LegalityDialogParams = {\n        tosUrl: this.tosUrl,\n        privacyPolicyUrl: this.privacyPolicyUrl,\n        authProvider,\n      };\n\n      this.dialogRef = this.dialog.open(LegalityDialogComponent, {\n        data: params,\n      });\n      this.dialogRef.afterClosed().subscribe((result: LegalityDialogResult) => {\n        if (result && result.checked) {\n          this._afterSignUpMiddleware(result.authProvider).then(() =>\n            this.signUpFormGroup.reset()\n          );\n        }\n        this.dialogRef = null;\n      });\n    } else {\n      this._afterSignUpMiddleware(authProvider).then(() =>\n        this.signUpFormGroup.reset()\n      );\n    }\n  }\n\n  async signUp() {\n    try {\n      this.isLoading = true;\n      this.changeDetectorRef.markForCheck();\n      return await this.authProcess.signUp(this.signUpFormGroup.value.name, {\n        email: this.signUpFormGroup.value.email,\n        password: this.signUpFormGroup.value.password,\n      });\n    } finally {\n      this.isLoading = false;\n      this.changeDetectorRef.markForCheck();\n    }\n  }\n\n  async signUpAnonymously() {\n    try {\n      this.isLoading = true;\n      this.changeDetectorRef.markForCheck();\n      await this.authProcess.signInWith(this.authProvider.ANONYMOUS);\n    } finally {\n      this.isLoading = false;\n      this.changeDetectorRef.markForCheck();\n    }\n  }\n\n  resetPassword() {\n    this.authProcess\n      .resetPassword(this.resetPasswordEmailFormControl.value)\n      .then(() => {\n        this.passReset = true;\n        // this.tabIndex = 2;\n        this.changeDetectorRef.markForCheck();\n      });\n  }\n\n  private chooseBackUrl() {\n    return (\n      this.activatedRoute.snapshot.queryParams.redirectUrl ||\n      this.goBackURL ||\n      \"/\"\n    );\n  }\n\n  private _initSignInFormGroupBuilder() {\n    this.signInFormGroup = new FormGroup({});\n    this.signInFormGroup.registerControl(\n      \"email\",\n      (this.signInEmailFormControl = new FormControl(\"\", [\n        Validators.required,\n        Validators.pattern(EMAIL_REGEX),\n      ]))\n    );\n    this.signInFormGroup.registerControl(\n      \"password\",\n      (this.sigInPasswordFormControl = new FormControl(\"\", [\n        Validators.required,\n        Validators.minLength(this.min),\n        Validators.maxLength(this.max),\n      ]))\n    );\n  }\n\n  private _initSignUpFormGroupBuilder() {\n    this.signUpFormGroup = new FormGroup({\n      name: this.sigUpNameFormControl = new FormControl(\"\", [\n        Validators.required,\n        Validators.minLength(this.config.nameMinLength),\n        Validators.maxLength(this.config.nameMaxLength),\n      ]),\n      email: this.sigUpEmailFormControl = new FormControl(\"\", [\n        Validators.required,\n        Validators.pattern(EMAIL_REGEX),\n      ]),\n      password: this.sigUpPasswordFormControl = new FormControl(\"\", [\n        Validators.required,\n        Validators.minLength(this.min),\n        Validators.maxLength(this.max),\n      ]),\n    });\n  }\n\n  private _initResetPasswordFormGroupBuilder() {\n    this.resetPasswordFormGroup = new FormGroup({\n      email: this.resetPasswordEmailFormControl = new FormControl(\"\", [\n        Validators.required,\n        Validators.pattern(EMAIL_REGEX),\n      ]),\n    });\n  }\n\n  private _afterSignUpMiddleware(authProvider?: AuthProvider) {\n    if (authProvider === this.authProvider.ANONYMOUS) {\n      return this.signUpAnonymously();\n    }\n    return this.signUp();\n  }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from \"@angular/core\";\nimport { AngularFireAuth } from \"@angular/fire/auth\";\nimport firebase from \"firebase/app\";\nimport { Observable } from \"rxjs\";\nimport { take } from 'rxjs/operators';\nimport { MatDialog } from \"@angular/material/dialog\";\nimport { UserComponent } from \"..\";\nimport { AuthProcessService } from \"../../services/auth-process.service\";\n\nexport interface LinkMenuItem {\n  text: string;\n  icon?: string;\n  // tslint:disable-next-line:ban-types\n  callback?: Function;\n}\n\n@Component({\n  selector: \"ngx-auth-firebaseui-avatar\",\n  templateUrl: \"./ngx-auth-firebaseui-avatar.component.html\",\n  styleUrls: [\"./ngx-auth-firebaseui-avatar.component.scss\"],\n})\nexport class NgxAuthFirebaseuiAvatarComponent implements OnInit {\n  @Input()\n  layout: \"default\" | \"simple\" = \"default\";\n\n  @Input()\n  canLogout = true;\n\n  @Input()\n  links: LinkMenuItem[];\n\n  @Input()\n  canViewAccount = true;\n\n  @Input()\n  canDeleteAccount = true;\n\n  @Input()\n  canEditAccount = true;\n\n  @Input()\n  textProfile = \"Profile\";\n\n  @Input()\n  textSignOut = \"Sign Out\";\n\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output()\n  onSignOut: EventEmitter<void> = new EventEmitter();\n\n  user: firebase.User;\n  user$: Observable<firebase.User | null>;\n  displayNameInitials: string | null;\n\n  constructor(public afa: AngularFireAuth, public dialog: MatDialog, private authProcess: AuthProcessService) {}\n\n  ngOnInit() {\n    this.user$ = this.afa.user;\n    this.user$.subscribe((user: firebase.User) => {\n      this.user = user;\n      this.displayNameInitials = user\n        ? this.getDisplayNameInitials(user.displayName)\n        : null;\n    });\n  }\n\n  getDisplayNameInitials(displayName: string | null): string | null {\n    if (!displayName) {\n      return null;\n    }\n    const initialsRegExp: RegExpMatchArray = displayName.match(/\\b\\w/g) || [];\n    const initials = (\n      (initialsRegExp.shift() || \"\") + (initialsRegExp.pop() || \"\")\n    ).toUpperCase();\n    return initials;\n  }\n\n  openProfile() {\n    const dialogRef = this.dialog.open(UserComponent);\n    const instance = dialogRef.componentInstance;\n    instance.canDeleteAccount = this.canDeleteAccount;\n    instance.canEditAccount = this.canEditAccount;\n    instance\n    .onSignOut\n    .pipe(\n      take(1)\n      ).subscribe(_ => this.onSignOut.emit()); // propagate the onSignout event\n    instance\n    .onAccountEdited\n    .pipe(\n      take(1)\n    ).subscribe(_ => this.displayNameInitials = this.getDisplayNameInitials(this.authProcess.user.displayName)) // update display name initials?\n  }\n\n  async signOut() {\n    try {\n      await this.afa.signOut();\n      // Sign-out successful.\n      this.onSignOut.emit();\n    } catch (e) {\n      // An error happened.\n      console.error(\"An error happened while signing out!\", e);\n    }\n  }\n}\n","import {Component, EventEmitter, Inject, Input, OnInit, Output, PLATFORM_ID, ViewEncapsulation} from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {AuthProcessService, AuthProvider} from '../../services/auth-process.service';\nimport {Subscription} from 'rxjs';\nimport {NgxAuthFirebaseuiAnimations} from '../../animations';\nimport {isPlatformBrowser} from '@angular/common';\nimport {MatFormFieldAppearance} from '@angular/material/form-field';\nimport {ThemePalette} from '@angular/material/core';\n\n@Component({\n  selector: 'ngx-auth-firebaseui-login',\n  templateUrl: './ngx-auth-firebaseui-login.component.html',\n  styleUrls: ['./ngx-auth-firebaseui-login.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  animations: NgxAuthFirebaseuiAnimations\n})\nexport class NgxAuthFirebaseuiLoginComponent implements OnInit {\n\n  @Input() logoUrl: string;\n  @Input() providers: string[] | string = AuthProvider.ALL; //  google, facebook, twitter, github as array or all as one single string\n  @Input() appearance: MatFormFieldAppearance;\n  @Input() registrationEnabled = true;\n  @Input() resetPasswordEnabled = true;\n  @Input() messageOnAuthSuccess: string;\n  @Input() messageOnAuthError: string;\n\n  // i18n\n  @Input() titleText = 'LOGIN TO YOUR ACCOUNT';\n  @Input() rememberMeText = 'Remember Me';\n  @Input() loginButtonText = 'LOGIN';\n  @Input() orLabelText = 'OR';\n  @Input() forgotPasswordText = 'Forgot Password?';\n  @Input() dontHaveAnAccountText = 'Don\\'t have an account?';\n  @Input() createAccountButtonText = 'Create an account';\n\n  // i18n email\n  @Input() emailText = 'Email';\n  @Input() emailErrorRequiredText = 'Email is required';\n  @Input() emailErrorPatternText = 'Please enter a valid email address';\n\n  // i18n password\n  @Input() passwordText = 'Password';\n  @Input() passwordErrorRequiredText = 'Password is required';\n\n  // Events\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output() onSuccess: any;\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output() onError: any;\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output() onCreateAccountRequested: EventEmitter<void> = new EventEmitter<void>();\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output() onResetPasswordRequested: EventEmitter<void> = new EventEmitter<void>();\n\n  @Output() onLoginButtonClicked: EventEmitter<void> = new EventEmitter<void>();\n\n  loginForm: FormGroup;\n  authProviders = AuthProvider;\n  onErrorSubscription: Subscription;\n  authenticationError = false;\n\n  constructor(\n    // tslint:disable-next-line:ban-types\n    @Inject(PLATFORM_ID) private platformId: Object,\n    public authProcess: AuthProcessService,\n    private formBuilder: FormBuilder) {\n    this.onSuccess = authProcess.onSuccessEmitter;\n    this.onError = authProcess.onErrorEmitter;\n  }\n\n  get color(): string | ThemePalette {\n    return this.authenticationError ? 'warn' : 'primary';\n  }\n\n  get colorAccent(): string | ThemePalette {\n    return this.authenticationError ? 'warn' : 'accent';\n  }\n\n  ngOnInit() {\n\n    if (isPlatformBrowser(this.platformId)) {\n      this.onErrorSubscription = this.onError.subscribe(() => this.authenticationError = true);\n    }\n\n    this.updateAuthSnackbarMessages();\n\n    this.loginForm = this.formBuilder.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', Validators.required]\n    });\n  }\n\n  public updateAuthSnackbarMessages(): void {\n    this.authProcess.messageOnAuthSuccess = this.messageOnAuthSuccess;\n    this.authProcess.messageOnAuthError = this.messageOnAuthError;\n  }\n\n  async login() {\n    // Emit event for button click\n    this.onLoginButtonClicked.emit();\n\n    return await this.authProcess.signInWith(this.authProviders.EmailAndPassword,\n      {\n        email: this.loginForm.controls.email.value,\n        password: this.loginForm.controls.password.value\n      }\n    );\n  }\n}\n","import {Component, EventEmitter, forwardRef, Inject, Input, OnDestroy, OnInit, Output, PLATFORM_ID, ViewEncapsulation} from '@angular/core';\nimport {AbstractControl, FormBuilder, FormGroup, ValidationErrors, ValidatorFn, Validators} from '@angular/forms';\nimport {Subject, Subscription} from 'rxjs';\nimport {takeUntil} from 'rxjs/operators';\n\nimport {NgxAuthFirebaseuiAnimations} from '../../animations';\nimport {AuthProcessService} from '../../services/auth-process.service';\nimport {isPlatformBrowser} from '@angular/common';\nimport {MatFormFieldAppearance} from '@angular/material/form-field';\nimport {ThemePalette} from '@angular/material/core';\nimport { NgxAuthFirebaseUIConfigToken } from '../../tokens';\nimport { NgxAuthFirebaseUIConfig } from '../../interfaces';\n\nexport const confirmPasswordValidator: ValidatorFn = (control: AbstractControl): ValidationErrors | null => {\n  if (!control.parent || !control) {\n    return null;\n  }\n\n  const password = control.parent.get('password');\n  const passwordConfirm = control.parent.get('passwordConfirm');\n\n  if (!password || !passwordConfirm) {\n    return null;\n  }\n\n  if (passwordConfirm.value === '') {\n    return null;\n  }\n\n  if (password.value === passwordConfirm.value) {\n    return null;\n  }\n\n  return {passwordsNotMatching: true};\n};\n\n@Component({\n  selector: 'ngx-auth-firebaseui-register',\n  templateUrl: './ngx-auth-firebaseui-register.component.html',\n  styleUrls: ['./ngx-auth-firebaseui-register.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  animations: NgxAuthFirebaseuiAnimations\n})\nexport class NgxAuthFirebaseuiRegisterComponent implements OnInit, OnDestroy {\n\n  @Input() logoUrl: string;\n  @Input() appearance: MatFormFieldAppearance;\n  @Input() tosUrl: string;\n  @Input() privacyPolicyUrl: string;\n\n  // i18n common\n  @Input() titleText = 'CREATE AN ACCOUNT';\n  @Input() termsAndConditionsText = 'I read and accept the';\n  @Input() termsAndConditionsLinkText = 'terms and conditions';\n  @Input() privacyPolicyText = 'I read and accept the';\n  @Input() privacyPolicyLinkText = 'privacy policy';\n  @Input() createAccountButtonText = 'CREATE AN ACCOUNT';\n  @Input() alreadyHaveAccountText = 'Already have an account?';\n  @Input() loginButtonText = 'LOGIN';\n\n  // i18n name\n  @Input() nameText = 'Name';\n  @Input() nameErrorRequiredText = 'Name is required';\n\n  // i18n email\n  @Input() emailText = 'Email';\n  @Input() emailErrorRequiredText = 'Email is required';\n  @Input() emailErrorPatternText = 'Please enter a valid email address';\n\n  // i18n password\n  @Input() passwordText = 'Password';\n  @Input() passwordErrorRequiredText = 'Password is required';\n  @Input() passwordConfirmationText = 'Password Confirmation';\n  @Input() passwordConfirmationErrorRequiredText = 'Password confirmation is required';\n  @Input() passwordErrorMatchText = 'Password must match'; \n  @Input() passwordErrorMinLengthText = \"The password is too short!\";\n  @Input() passwordErrorMaxLengthText = \"The password is too long!\";\n\n  // Events\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output() onSuccess: any;\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output() onError: any;\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output() onLoginRequested: EventEmitter<void> = new EventEmitter<void>();\n\n  @Output() onCreateAccountButtonClicked: EventEmitter<void> = new EventEmitter();\n\n  registerForm: FormGroup;\n  onErrorSubscription: Subscription;\n  authenticationError = false;\n\n  // Private\n  private unsubscribeAll: Subject<any>;\n\n  // tslint:disable-next-line:ban-types\n  constructor(\n    @Inject(PLATFORM_ID) private platformId: Object,\n    @Inject(forwardRef(() => NgxAuthFirebaseUIConfigToken))\n    public config: NgxAuthFirebaseUIConfig,\n    private formBuilder: FormBuilder,\n    public authProcess: AuthProcessService\n  ) {\n    // Configure the layout\n\n    // Set the private defaults\n    this.unsubscribeAll = new Subject();\n    this.onSuccess = authProcess.onSuccessEmitter;\n    this.onError = authProcess.onErrorEmitter;\n  }\n\n  get color(): string | ThemePalette {\n    return this.authenticationError ? 'warn' : 'primary';\n  }\n\n  get colorAccent(): string | ThemePalette {\n    return this.authenticationError ? 'warn' : 'accent';\n  }\n\n  ngOnInit(): void {\n    if (isPlatformBrowser(this.platformId)) {\n      this.onErrorSubscription = this.onError.subscribe(() => this.authenticationError = true);\n    }\n    this.registerForm = this.formBuilder.group({\n      name: ['', Validators.required],\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required,\n                     Validators.minLength(this.config.passwordMinLength), \n                     Validators.maxLength(this.config.passwordMaxLength)]],\n      passwordConfirm: ['', [Validators.required, confirmPasswordValidator]],\n      tos: [''],\n      privacyPolicy: ['']\n    });\n\n    // If tos or privacy policy url set, ensure that the two form items are required\n    if (this.tosUrl) {\n      this.registerForm.controls.tos.setValidators(Validators.requiredTrue);\n    }\n\n    if (this.privacyPolicyUrl) {\n      this.registerForm.controls.privacyPolicy.setValidators(Validators.requiredTrue);\n    }\n\n    // Update the validity of the 'passwordConfirm' field\n    // when the 'password' field changes\n    this.registerForm\n      .controls\n      .password\n      .valueChanges.pipe(takeUntil(this.unsubscribeAll))\n      .subscribe(() => {\n        this.registerForm.controls.passwordConfirm.updateValueAndValidity();\n      });\n  }\n\n  /**\n   * On destroy\n   */\n  ngOnDestroy(): void {\n    // Unsubscribe from all subscriptions\n    this.unsubscribeAll.next();\n    this.unsubscribeAll.complete();\n  }\n\n  async createAccount() {\n    // Emit the create account clicked event.\n    this.onCreateAccountButtonClicked.emit();\n\n\n    return await this.authProcess.signUp(\n      this.registerForm.controls.name.value,\n      {\n        email: this.registerForm.controls.email.value,\n        password: this.registerForm.controls.password.value\n      }\n    );\n  }\n}\n","import {Component, Input, Output} from '@angular/core';\nimport {AuthProcessService, AuthProvider} from '../../services/auth-process.service';\nimport {NgxAuthFirebaseuiAnimations} from '../../animations';\nimport {LegalityDialogComponent} from '..';\nimport {LegalityDialogParams, LegalityDialogResult} from '../../interfaces';\nimport {MatDialog, MatDialogRef} from '@angular/material/dialog';\n\nexport enum Theme {\n  DEFAULT = 'default',\n  CLASSIC = 'classic',\n  STROKED = 'stroked',\n  FAB = 'fab',\n  MINI_FAB = 'mini-fab',\n  RAISED = 'raised',\n}\n\nexport enum Layout {\n  ROW = 'row',\n  COLUMN = 'column'\n}\n\n@Component({\n  selector: 'ngx-auth-firebaseui-providers',\n  templateUrl: 'auth.providers.component.html',\n  styleUrls: ['auth.providers.component.scss'],\n  animations: NgxAuthFirebaseuiAnimations\n})\nexport class AuthProvidersComponent {\n\n  @Input() theme: Theme; // theme: string = Theme.DEFAULT;\n  @Input() layout: string = Layout.ROW;\n  @Input() providers: AuthProvider[] | AuthProvider = AuthProvider.ALL; //  google, facebook, twitter, github, microsoft, yahoo\n\n  @Output() onSuccess: any;\n  @Output() onError: any;\n\n  @Input() tosUrl: string;\n  @Input() privacyPolicyUrl: string;\n  dialogRef: MatDialogRef<LegalityDialogComponent>;\n\n  themes = Theme;\n  authProvider = AuthProvider;\n\n  constructor(public authProcess: AuthProcessService, public dialog: MatDialog) {\n    this.onSuccess = authProcess.onSuccessEmitter;\n    this.onError = authProcess.onErrorEmitter;\n  }\n\n  processLegalSignUP(authProvider?: AuthProvider) {\n    if (this.tosUrl || this.privacyPolicyUrl) {\n      const params: LegalityDialogParams = {\n        tosUrl: this.tosUrl,\n        privacyPolicyUrl: this.privacyPolicyUrl,\n        authProvider\n      };\n\n      this.dialogRef = this.dialog.open(LegalityDialogComponent, {data: params});\n      this.dialogRef.afterClosed().subscribe((result: LegalityDialogResult) => {\n        if (result && result.checked) {\n          // this._afterSignUpMiddleware(result.authProvider).then(() => this.signUpFormGroup.reset());\n          this.authProcess.signInWith(authProvider);\n        }\n        this.dialogRef = null;\n      });\n    } else {\n      // this._afterSignUpMiddleware(authProvider).then(() => this.signUpFormGroup.reset());\n      this.authProcess.signInWith(authProvider);\n    }\n  }\n\n}\n","import {\n  Component,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Input,\n  Output,\n} from \"@angular/core\";\nimport { AngularFireAuth } from \"@angular/fire/auth\";\nimport { FormControl, FormGroup, Validators } from \"@angular/forms\";\nimport firebase from \"firebase/app\";\nimport { EMAIL_REGEX, PHONE_NUMBER_REGEX } from \"..\";\nimport { MatFormFieldAppearance } from \"@angular/material/form-field\";\nimport { NgxAuthFirebaseUIConfigToken } from \"../../tokens\";\nimport { NgxAuthFirebaseUIConfig } from \"../../interfaces\";\nimport { AuthProcessService } from \"../../services/auth-process.service\";\nimport { FirestoreSyncService } from \"../../services/firestore-sync.service\";\nimport { map, take } from \"rxjs/operators\";\nimport { Observable } from \"rxjs\";\n\n@Component({\n  selector: \"ngx-auth-firebaseui-user\",\n  templateUrl: \"./user.component.html\",\n  styleUrls: [\"./user.component.scss\"],\n})\nexport class UserComponent {\n  @Input() editMode: boolean;\n  @Input() canLogout = true;\n  @Input() canEditAccount = true;\n  @Input() canDeleteAccount = true;\n  @Input() appearance: MatFormFieldAppearance;\n\n  // i18n commons\n  @Input() notLoggedInText = \"You are not logged in!\";\n  @Input() emailVerifiedText = \"email is verified\";\n  @Input() emailNotVerifiedText = \"email is not verified\";\n  @Input() cancelButtonText = \"cancel\";\n  @Input() saveChangesButtonText = \"Save changes\";\n  @Input() editButtonText = \"edit\";\n  @Input() signoutButtonText = \"Sign out\";\n  @Input() deleteAccountButtonText = \"Delete account\";\n\n  //i18n name\n  @Input() nameText = \"Name\";\n  @Input() nameErrorRequiredText = \"Name is required\";\n\n  // i18n email\n  @Input() emailText = \"Email\";\n  @Input() emailErrorRequiredText = \"Email is required\";\n  @Input() emailErrorPatternText = \"Please enter a valid email address\";\n\n  // i18n phone\n  @Input() phoneText = \"Phone number\";\n  @Input() phoneHintText = `\n    The phone number is international. Therefore, it should start with a + sign or 00,\n    followed by the country code, - and national number e.g: +49-12345678 or 0041-1234567890\n\n      NOTE : the phone number must be a valid phone credential !!`;\n  @Input() phoneErrorPatternText = \"Please enter a valid phone number\";\n\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output() onSignOut: EventEmitter<void> = new EventEmitter();\n\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output() onAccountEdited: EventEmitter<void> = new EventEmitter();\n\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output() onAccountDeleted: EventEmitter<void> = new EventEmitter();\n\n  updateFormGroup: FormGroup;\n  updateNameFormControl: FormControl;\n  updateEmailFormControl: FormControl;\n  updatePhoneNumberFormControl: FormControl;\n\n  constructor(\n    public auth: AngularFireAuth,\n    public authProcess: AuthProcessService,\n    private fireStoreService: FirestoreSyncService,\n    @Inject(forwardRef(() => NgxAuthFirebaseUIConfigToken))\n    public config: NgxAuthFirebaseUIConfig\n  ) {}\n\n  changeEditMode() {\n    if (this.editMode) {\n      this.reset();\n      this.editMode = false;\n    } else {\n      this.initUpdateFormGroup().subscribe((updateFormGroup: FormGroup) => {\n        this.updateFormGroup = updateFormGroup;\n        this.editMode = true;\n      });\n    }\n  }\n\n  reset() {\n    this.updateFormGroup.reset();\n    this.updateFormGroup.disable();\n    this.updateFormGroup = null;\n  }\n\n  async save() {\n    if (this.updateFormGroup.dirty) {\n      this.editMode = false;\n      const user = this.authProcess.user;\n      // ngx-auth-firebaseui-user.updateProfile()\n      // ngx-auth-firebaseui-user.updateEmail()\n      // console.log('form = ', this.updateFormGroup);\n\n      const snackBarMsg: string[] = [];\n\n      try {\n        if (this.updateNameFormControl.dirty) {\n          await user.updateProfile({\n            displayName: this.updateNameFormControl.value,\n          });\n          snackBarMsg.push(`your name has been updated to ${user.displayName}`);\n        }\n\n        if (this.updateEmailFormControl.dirty) {\n          await user.updateEmail(this.updateEmailFormControl.value);\n          snackBarMsg.push(`your email has been updated to ${user.email}`);\n        }\n\n        if (this.updatePhoneNumberFormControl.dirty) {\n          await user.updatePhoneNumber(this.updatePhoneNumberFormControl.value);\n          console.log(\n            \"phone number = \",\n            this.updatePhoneNumberFormControl.value\n          );\n          snackBarMsg.push(\n            `your phone number has been updated to ${user.phoneNumber}`\n          );\n        }\n\n        if (this.config.enableFirestoreSync) {\n          await this.fireStoreService.updateUserData(\n            this.authProcess.parseUserInfo(user)\n          );\n        }\n      } catch (error) {\n        this.authProcess.showToast(\n          error && error.message ? error.message : error\n        );\n        console.error(error);\n      }\n\n      if (snackBarMsg.length > 0) {\n        this.authProcess.showToast(snackBarMsg.join(\"\\\\n\"));\n      }\n      this.onAccountEdited.emit(); // emit event if the form was dirty\n      this.updateFormGroup.reset();\n    }\n  }\n\n  signOut() {\n    this.auth\n      .signOut()\n      .then(() => this.onSignOut.emit())\n      .catch((e) => console.error(\"An error happened while signing out!\", e));\n  }\n\n  /**\n   * Delete the account of the current firebase ngx-auth-firebaseui-user\n   *\n   * On Success, emit the <onAccountDeleted> event and toast a msg!#\n   * Otherwise, log the and toast and error msg!\n   *\n   */\n  async deleteAccount() {\n    try {\n      const user = this.authProcess.user;\n\n      // await this.authProcess.deleteAccount();\n      await this.authProcess.user.delete();\n      // if (this.config.enableFirestoreSync) {\n      await this.fireStoreService.deleteUserData(user.uid);\n      // }\n      this.onAccountDeleted.emit();\n      this.editMode = false;\n      console.log(\"Your account has been successfully deleted!\");\n      this.authProcess.showToast(\"Your account has been successfully deleted!\");\n    } catch (error) {\n      console.log(\"Error while delete user account\", error);\n      this.authProcess.showToast(\n        `Error occurred while deleting your account: ${error.message}`\n      );\n    }\n  }\n\n  protected initUpdateFormGroup(): Observable<FormGroup> {\n    return this.authProcess.user$.pipe(\n      take(1),\n      map((currentUser: firebase.User) => {\n        const updateFormGroup = new FormGroup({\n          name: this.updateNameFormControl = new FormControl(\n            { value: currentUser.displayName, disabled: this.editMode },\n            [\n              Validators.required,\n              Validators.minLength(this.config.nameMinLength),\n              Validators.maxLength(this.config.nameMaxLength),\n            ]\n          ),\n\n          email: this.updateEmailFormControl = new FormControl(\n            { value: currentUser.email, disabled: this.editMode },\n            [Validators.required, Validators.pattern(EMAIL_REGEX)]\n          ),\n\n          phoneNumber: this.updatePhoneNumberFormControl = new FormControl(\n            { value: currentUser.phoneNumber, disabled: this.editMode },\n            [Validators.pattern(PHONE_NUMBER_REGEX)]\n          ),\n        });\n\n        updateFormGroup.enable();\n        return updateFormGroup;\n      })\n    );\n  }\n}\n","// import * as firebase from 'firebase';\n\nexport interface NgxAuthFirebaseUIConfig {\n  // authNextURL?: string, // popup or redirect\n  // tosUrl?: string, // term of services url\n  // ppUrl?: string, // privacy policy url\n  // authProviders?: Array<AuthProvider>,\n  // languageCode?: string, // todo: 28.3.18\n  authGuardFallbackURL?: string;\n  authGuardLoggedInURL?: string;\n  enableFirestoreSync?: boolean;\n\n  // Toasts\n  toastMessageOnAuthSuccess?: boolean;\n  toastMessageOnAuthError?: boolean;\n\n  // Password length min/max in forms independently of each componenet min/max.\n  // `min/max` input parameters in components should be within this range.\n  passwordMaxLength?: number;\n  passwordMinLength?: number;\n\n  // Same as password but for the name\n  nameMaxLength?: number;\n  nameMinLength?: number;\n\n  // If set, sign-in/up form is not available until email has been verified.\n  // Plus protected routes are still protected even though user is connected.\n  guardProtectedRoutesUntilEmailIsVerified?: boolean;\n\n  // Control whether or not email verification is used\n  enableEmailVerification?: boolean;\n\n  // If set to true outputs the UserCredential object instead of firebase.User after login and signup\n  useRawUserCredential?: boolean\n}\n\nexport const defaultAuthFirebaseUIConfig: NgxAuthFirebaseUIConfig = {\n  // authMethod: 'redirect',\n  // authProviders: [new GoogleAuthProvider(), new FacebookAuthProvider(), new TwitterAuthProvider(), new GithubAuthProvider()],\n  enableFirestoreSync: true,\n  toastMessageOnAuthSuccess: true,\n  toastMessageOnAuthError: true,\n  authGuardFallbackURL: '/',\n  authGuardLoggedInURL: '/',\n\n  // Password length min/max in forms independently of each componenet min/max.\n  // `min/max` input parameters in components should be within this range.\n  passwordMaxLength: 60,\n  passwordMinLength: 8,\n\n  // Same as password but for the name\n  nameMaxLength: 50,\n  nameMinLength: 2,\n\n  // If set, sign-in/up form is not available until email has been verified.\n  // Plus protected routes are still protected even though user is connected.\n  guardProtectedRoutesUntilEmailIsVerified: true,\n\n  // Default to email verification on\n  enableEmailVerification: true,\n\n  // Default to false to keep the current projects working as is\n  useRawUserCredential: false\n};\n\n// Merge default config with user provided config.\nexport function ngxAuthFirebaseUIConfigFactory(userProvidedConfig: NgxAuthFirebaseUIConfig): NgxAuthFirebaseUIConfig {\n  return Object.assign({}, defaultAuthFirebaseUIConfig, userProvidedConfig);\n}\n","import {Inject, Injectable} from '@angular/core';\nimport {ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot} from '@angular/router';\nimport {Observable} from 'rxjs';\nimport {map} from 'rxjs/operators';\nimport {NgxAuthFirebaseUIConfig} from '../interfaces';\nimport {NgxAuthFirebaseUIConfigToken} from '../tokens';\nimport {AuthProcessService} from '../services/auth-process.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoggedInGuard implements CanActivate {\n  constructor(\n    @Inject(NgxAuthFirebaseUIConfigToken)\n    private config: NgxAuthFirebaseUIConfig,\n    private router: Router,\n    private authProcess: AuthProcessService\n  ) {\n  }\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> {\n    return this.authProcess.afa.user.pipe(\n      map(user => {\n        if (user) {\n          if (this.config.guardProtectedRoutesUntilEmailIsVerified && !user.emailVerified && !user.isAnonymous) {\n            if (this.config.authGuardFallbackURL) {\n              this.router.navigate([`${this.config.authGuardFallbackURL}`], {queryParams: {redirectUrl: state.url}});\n            }\n            return false;\n          } else {\n            return true;\n          }\n        } else {\n          if (this.config.authGuardFallbackURL) {\n            this.router.navigate([`/${this.config.authGuardFallbackURL}`], {queryParams: {redirectUrl: state.url}});\n          }\n          return false;\n        }\n      })\n    );\n  }\n}\n","// @angular/*\nimport {CommonModule} from '@angular/common';\nimport {ModuleWithProviders, NgModule} from '@angular/core';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {HttpClientModule} from '@angular/common/http';\nimport {RouterModule} from '@angular/router';\nimport {FlexLayoutModule} from '@angular/flex-layout';\n// @angular/fire\nimport {FIREBASE_APP_NAME, FIREBASE_OPTIONS, FirebaseAppConfig} from '@angular/fire';\nimport {AngularFireAuthModule} from '@angular/fire/auth';\nimport {AngularFirestoreModule} from '@angular/fire/firestore';\n// @angular/material\nimport {MatButtonModule} from '@angular/material/button';\nimport {MatCardModule} from '@angular/material/card';\nimport {MatCheckboxModule} from '@angular/material/checkbox';\nimport {MatChipsModule} from '@angular/material/chips';\nimport {MatDialogModule} from '@angular/material/dialog';\nimport {MatDividerModule} from '@angular/material/divider';\nimport {MatIconModule, MatIconRegistry} from '@angular/material/icon';\nimport {MatInputModule} from '@angular/material/input';\nimport {MatMenuModule} from '@angular/material/menu';\nimport {MatProgressBarModule} from '@angular/material/progress-bar';\nimport {MatProgressSpinnerModule} from '@angular/material/progress-spinner';\nimport {MatSnackBarModule} from '@angular/material/snack-bar';\nimport {MatTabsModule} from '@angular/material/tabs';\nimport {MatTooltipModule} from '@angular/material/tooltip';\n\nimport {MatPasswordStrengthModule} from '@angular-material-extensions/password-strength';\n\n\nimport {NgxAuthFirebaseuiLoginComponent} from './components/ngx-auth-firebaseui-login/ngx-auth-firebaseui-login.component';\nimport {NgxAuthFirebaseuiRegisterComponent} from './components/ngx-auth-firebaseui-register/ngx-auth-firebaseui-register.component';\n\n\nimport {DomSanitizer} from '@angular/platform-browser';\n// ngx-auth-firebaseui\n// components\nimport {AuthComponent} from './components/ngx-auth-firebaseui/auth.component';\nimport {UserComponent} from './components/ngx-auth-firebaseui-user/user.component';\nimport {AuthProvidersComponent} from './components/providers/auth.providers.component';\nimport {EmailConfirmationComponent} from './components/email-confirmation/email-confirmation.component';\nimport {NgxAuthFirebaseUIConfig, ngxAuthFirebaseUIConfigFactory} from './interfaces/config.interface';\nimport {NgxAuthFirebaseuiAvatarComponent} from './components/ngx-auth-firebaseui-avatar/ngx-auth-firebaseui-avatar.component';\nimport {LegalityDialogComponent} from './components/legality-dialog/legality-dialog.component';\n// guards\nimport {LoggedInGuard} from './guards/logged-in.guard';\n// services\nimport {FirestoreSyncService} from './services/firestore-sync.service';\nimport {AuthProcessService} from './services/auth-process.service';\nimport {NgxAuthFirebaseUIConfigToken, UserProvidedConfigToken} from './tokens';\n// interfaces\n// ###################################################################################################\n// Export module's public API\n// components\nexport {LegalityDialogComponent} from './components/legality-dialog/legality-dialog.component';\nexport {LinkMenuItem, NgxAuthFirebaseuiAvatarComponent} from './components/ngx-auth-firebaseui-avatar/ngx-auth-firebaseui-avatar.component';\nexport {UserComponent} from './components/ngx-auth-firebaseui-user/user.component';\nexport {AuthComponent} from './components/ngx-auth-firebaseui/auth.component';\nexport {AuthProvidersComponent, Layout, Theme} from './components/providers/auth.providers.component';\nexport {NgxAuthFirebaseuiLoginComponent} from './components/ngx-auth-firebaseui-login/ngx-auth-firebaseui-login.component';\nexport {NgxAuthFirebaseuiRegisterComponent} from './components/ngx-auth-firebaseui-register/ngx-auth-firebaseui-register.component';\n\n\n// guards\nexport {LoggedInGuard} from './guards/logged-in.guard';\n// interfaces\nexport {NgxAuthFirebaseUIConfig} from './interfaces/config.interface';\n// services\nexport {AuthProcessService, AuthProvider} from './services/auth-process.service';\nexport {FirestoreSyncService} from './services/firestore-sync.service';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    // HTTP\n    RouterModule,\n    HttpClientModule,\n    // FLEX_LAYOUT\n    FlexLayoutModule,\n    // FORMS\n    FormsModule,\n    ReactiveFormsModule,\n    // MATERIAL2\n    MatTabsModule,\n    MatCardModule,\n    MatInputModule,\n    MatButtonModule,\n    MatIconModule,\n    MatSnackBarModule,\n    MatDividerModule,\n    MatChipsModule,\n    MatTooltipModule,\n    MatDialogModule,\n    MatCheckboxModule,\n    MatProgressSpinnerModule,\n    MatProgressBarModule,\n    MatDialogModule,\n    MatMenuModule,\n    // ANGULAR MATERIAL EXTENSIONS\n    MatPasswordStrengthModule,\n    // ANGULARFIRE2\n    AngularFireAuthModule,\n    AngularFirestoreModule,\n  ],\n  exports: [\n    AuthComponent,\n    UserComponent,\n    NgxAuthFirebaseuiAvatarComponent,\n    AuthProvidersComponent,\n    EmailConfirmationComponent,\n    // LoggedInGuard,\n    AngularFireAuthModule,\n    AngularFirestoreModule,\n    NgxAuthFirebaseuiLoginComponent,\n    NgxAuthFirebaseuiRegisterComponent\n  ],\n  declarations: [\n    AuthComponent,\n    UserComponent,\n    NgxAuthFirebaseuiAvatarComponent,\n    AuthProvidersComponent,\n    EmailConfirmationComponent,\n    LegalityDialogComponent,\n    NgxAuthFirebaseuiLoginComponent,\n    NgxAuthFirebaseuiRegisterComponent\n  ],\n  entryComponents: [\n    UserComponent,\n    LegalityDialogComponent\n  ]\n})\nexport class NgxAuthFirebaseUIModule {\n  constructor(private iconRegistry: MatIconRegistry, private sanitizer: DomSanitizer, auth: AuthProcessService) {\n    auth.listenToUserEvents();\n    this.registerProviderIcons();\n  }\n\n  static forRoot(\n    configFactory: FirebaseAppConfig,\n    appNameFactory: () => string | undefined = () => undefined,\n    config: NgxAuthFirebaseUIConfig = {}\n  ): ModuleWithProviders<NgxAuthFirebaseUIModule> {\n    return {\n      ngModule: NgxAuthFirebaseUIModule,\n      providers:\n        [\n          {\n            provide: FIREBASE_OPTIONS,\n            useValue: configFactory\n          },\n          {\n            provide: FIREBASE_APP_NAME,\n            useFactory: appNameFactory\n          },\n          {provide: UserProvidedConfigToken, useValue: config},\n          {\n            provide: NgxAuthFirebaseUIConfigToken,\n            useFactory: ngxAuthFirebaseUIConfigFactory,\n            deps: [UserProvidedConfigToken]\n          },\n          AuthProcessService,\n          FirestoreSyncService,\n          LoggedInGuard\n        ]\n    };\n  }\n\n  registerProviderIcons() {\n    this.iconRegistry\n      .addSvgIcon('google', this.sanitizer.bypassSecurityTrustResourceUrl('/assets/mdi/google.svg'))\n      .addSvgIcon('apple', this.sanitizer.bypassSecurityTrustResourceUrl('/assets/mdi/apple.svg'))\n      .addSvgIcon('google-colored', this.sanitizer.bypassSecurityTrustResourceUrl('/assets/google.svg'))\n      .addSvgIcon('facebook', this.sanitizer.bypassSecurityTrustResourceUrl('/assets/mdi/facebook.svg'))\n      .addSvgIcon('twitter', this.sanitizer.bypassSecurityTrustResourceUrl('/assets/mdi/twitter.svg'))\n      .addSvgIcon('github', this.sanitizer.bypassSecurityTrustResourceUrl('/assets/mdi/github-circle.svg'))\n      .addSvgIcon('microsoft', this.sanitizer.bypassSecurityTrustResourceUrl('/assets/mdi/microsoft.svg'))\n      .addSvgIcon('yahoo', this.sanitizer.bypassSecurityTrustResourceUrl('/assets/mdi/yahoo.svg'))\n      .addSvgIcon('phone', this.sanitizer.bypassSecurityTrustResourceUrl('/assets/phone.svg'));\n  }\n}\n"]}